# Autonomous Orchestrator Configuration
# =====================================
# Default configuration for the orchestrator framework

project:
  name: "My Project"
  directory: "./workspaces"

backend:
  type: "postgres"  # Options: "postgres", "json", "linear"
  # database_url: ${DATABASE_URL}  # Uses env var
  # linear_api_key: ${LINEAR_API_KEY}  # Uses env var

autonomy: "checkpoint"  # Options: "full", "checkpoint"

phases:
  ideation:
    enabled: true
    pattern: "swarm"  # 3 parallel agents
    checkpoint_pause: true
    max_retries: 3
    timeout_minutes: 60

  architecture:
    enabled: true
    pattern: "swarm"
    checkpoint_pause: true
    max_retries: 3
    timeout_minutes: 60

  task_breakdown:
    enabled: true
    pattern: "single"
    checkpoint_pause: true
    max_retries: 3
    timeout_minutes: 60

  initialize:
    enabled: true
    pattern: "single"
    checkpoint_pause: false
    max_retries: 3
    timeout_minutes: 120

  implement:
    enabled: true
    pattern: "single"
    checkpoint_pause: false
    max_retries: 5
    timeout_minutes: 240

  testing:
    enabled: false  # Optional phase
    pattern: "single"
    checkpoint_pause: true

  deploy:
    enabled: false  # Optional phase
    pattern: "single"
    checkpoint_pause: true

agent:
  model: "claude-opus-4-5-20251101"
  max_sessions: 1000
  session_timeout_minutes: 120

# MCP servers for swarm agents (ideation, architecture phases)
# Only HTTP/SSE servers are supported - stdio servers cause timeout errors
# with concurrent agents. Leave empty if no MCP servers needed.
swarm:
  max_concurrent: 3
  stagger_delay_seconds: 0.5
  # Example HTTP MCP servers (uncomment to enable):
  # mcp_servers:
  #   archon:
  #     type: "http"
  #     url: "http://localhost:8000/mcp"
  #   docs:
  #     type: "sse"
  #     url: "http://localhost:9000/sse"
  # mcp_tools:
  #   - "mcp__archon__search_docs"
  #   - "mcp__archon__get_context"

error_recovery:
  max_consecutive_errors: 3
  stall_timeout_minutes: 30
  retry_delay_seconds: 5
